<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- 맵퍼가 쿼리를 수행 -->

<mapper namespace="com.kosta148.matjo.review.dao.ReviewDao">

	<!-- 회원 목록 조회 -->
	<sql id="reviewColumns">
		review_no AS reviewNo,
		review_group AS reviewGroupNo,
		review_resta_no AS reviewRestaNo,
		review_resta_name AS reviewRestaName,
		review_resta_cate AS reviewRestaCate,
		review_isopen AS reviewIsOpen
	</sql>

	<!-- 리뷰 목록 조회 -->
	<select id="selectReviewList" resultType="reviewBean" parameterType="reviewBean">
		SELECT
		<include refid="reviewColumns" />
		FROM
		review
		WHERE
		1=1
		<if test='reviewRestaNo != ""'>
			AND review_resta_no = #{reviewRestaNo}
		</if>
		ORDER BY
		review_group
		DESC
	</select>
	
	
	
</mapper>


